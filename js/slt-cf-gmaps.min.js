var slt_cf_maps=[];function slt_cf_gmap_init(f,g,j,c,b,o,m,n){var i,q,h,e,d,a,l,k;b=b.replace(" ","");i=b.split(",");b=new google.maps.LatLng(i[0],i[1]);if(m==="hybrid"){m=google.maps.MapTypeId.HYBRID}else{if(m==="satellite"){m=google.maps.MapTypeId.SATELLITE}else{if(m==="terrain"){m=google.maps.MapTypeId.TERRAIN}else{m=google.maps.MapTypeId.ROADMAP}}}q={zoom:o,center:b,mapTypeId:m,scrollwheel:false};slt_cf_maps[f]=[];slt_cf_maps[f].map=new google.maps.Map(document.getElementById(f),q);slt_cf_maps[f].map._slt_cf_mapname=f;if(j){var p=(g==="input")?true:false;h=c.split(",");c=new google.maps.LatLng(h[0],h[1]);slt_cf_maps[f].marker=new google.maps.Marker({map:slt_cf_maps[f].map,position:c,draggable:p,animation:google.maps.Animation.DROP});slt_cf_maps[f].marker._slt_cf_mapname=f;google.maps.event.addListener(slt_cf_maps[f].marker,"drag",function(){var r=this.getPosition().toString().slice(1,-1).replace(" ","");document.getElementById(this._slt_cf_mapname+"_marker_latlng").value=r})}if(g==="input"){google.maps.event.addListener(slt_cf_maps[f].map,"bounds_changed",function(){document.getElementById(this._slt_cf_mapname+"_zoom").value=this.getZoom();document.getElementById(this._slt_cf_mapname+"_centre_latlng").value=this.getCenter().toString().slice(1,-1).replace(" ","");document.getElementById(this._slt_cf_mapname+"_bounds_sw").value=this.getBounds().getSouthWest().toString().slice(1,-1).replace(" ","");document.getElementById(this._slt_cf_mapname+"_bounds_ne").value=this.getBounds().getNorthEast().toString().slice(1,-1).replace(" ","")});if(jQuery().autocomplete){e=new google.maps.Geocoder();d=jQuery("#"+f+"_bounds_sw").val().split(",");l=jQuery("#"+f+"_bounds_ne").val().split(",");a=new google.maps.LatLng(d[0],d[1]);k=new google.maps.LatLng(l[0],l[1]);slt_cf_maps[f].map.geocodeBounds=new google.maps.LatLngBounds(a,k);jQuery(document).ready(function(r){r("#"+f).after('<p class="gmap-address"><label for="'+f+'_address">'+slt_cf_gmaps.geocoder_label+':</label> <input type="text" id="'+f+'_address" name="'+f+'_address" value="" class="regular-text" /></p>');r("#"+f+"_address").autocomplete({source:function(t,s){e.geocode({address:t.term,bounds:slt_cf_maps[f].map.getBounds()},function(v,u){if(u==google.maps.GeocoderStatus.OK){s(r.map(v,function(w){return{label:w.formatted_address,value:w.formatted_address,latitude:w.geometry.location.lat(),longitude:w.geometry.location.lng()}}))}else{console.log("Geocode was not successful for the following reason: "+u)}})},select:function(s,u){if(j){r("#"+f+"_marker_latlng").val(u.item.latitude+","+u.item.longitude)}r("#"+f+"_centre_latlng").val(u.item.latitude+","+u.item.longitude);var t=new google.maps.LatLng(u.item.latitude,u.item.longitude);if(j){slt_cf_maps[f].marker.setPosition(t)}slt_cf_maps[f].map.panTo(t)}})})}}if(typeof n!=="undefined"&&window[n]){window[n](slt_cf_maps[f].map)}}jQuery(document).ready(function(a){if(a("div.gmap_input").length){a("div.gmap_input").each(function(){var c,b;c=a(this).attr("id");if(a("input.gmap_toggle_display").length){a("input.gmap_toggle_display").change(function(){if(a(this).hasClass("yes")){a("#"+c+"_wrapper").slideDown("fast",function(){b=slt_cf_maps[c].map.getCenter();google.maps.event.trigger(slt_cf_maps[c].map,"resize");slt_cf_maps[c].map.setCenter(b)})}else{a("#"+c+"_wrapper").slideUp()}})}})}});